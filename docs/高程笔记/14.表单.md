# 14 表单

## 14.1 表单

在 HTML 中，表单是`<form>`元素。在 JavaScript 中，表单对应`HTMLFormElement`类型。该类型的属性和：

- `action`请求的 url
- `elements`表单中所有控件
- `method`发送的 http 请求，通常是`get`或者`post`
- `length`控件数量
- `acceptCharset`服务端能够处理的字符集
- `enctype`编码类型
- `name`表单名称

该类型的方法：

- `reset()`表单重置为默认值
- `submit()`提交表单

##### 取得元素的引用

1. 使用 DOM 方法
2. 通过`document.forms`取得所有表单，在这个集合可以通过数值索引或`name`来取得特定的表单

   ```javascript
   document.forms[0];
   document.forms["form2"];
   ```

### 14.1.1 提交表单

1. 提交按钮，通过将`<input>`或`<button>`元素的`type`设置为`submit`，或者设置一个图像按钮，将`<input>`的 type 设置为`image`

   ```htmlbars
   <!--通用提交按钮-->
   <input type="submit" value="submit form">

   <!--自定义提交按钮-->
   <input type="submit" value="submit form">

   <!--自定义提交按钮-->
   <input type="submit" value="submit form">
   ```

2. 表单存在提交按钮或图像按钮，且表单控件拥有焦点的情况下，按下回车键
3. 调用`form`元素的`submit()`事件，不会触发`submit`事件。

   ```javascript
   form.submit();
   ```

#### 解决表单多次重复提交的问题

1. 在第一次提交表单后禁用提交按钮
2. 利用`onsubmit`事件处理后续的表单提交

### 14.1.2 重置表单

1. 重置按钮，通过将`<input>`或`<button>`元素的`type`设置为`reset`，触发重置事件

   ```htmlbars
   <!--通用提交按钮-->
   <input type="submit" value="submit form">

   <!--自定义提交按钮-->
   <input type="submit" value="submit form">
   ```

2. 调用`form`元素的`submit()`事件，触发重置事件

   ```javascript
   form.reset();
   ```
