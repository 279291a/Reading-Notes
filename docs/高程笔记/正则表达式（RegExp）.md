# 正则表达式（RegExp）

[TOC]

## 创建

1. 使用字面量创建

    ```javascript
    var pattern = /at/;
    ```

2. 使用 **RegExp** 构造函数创建

    ```javascript
    var pattern = new RegExp("at", "i");
    ```

## 语法

## 修饰符

有5种修饰符，其中4和5为`es6`中新增。

1. `i`修饰符：忽略大小写
2. `g`修饰符：模式将应用于所有字符串，而非在找到第一个匹配项就立即返回
3. `m`修饰符：匹配多行
4. `y`修饰符：从**lastIndex**属性开始进行搜索
5. `u`修饰符：从编码单元操作模式切换为字符模式

```javascript
var pattern = /匹配模式/修饰符
```

## 字符类

**字符类**：将直接量字符单独放进方括号内。

1. `[...]`: 匹配方括号内的任意字符
2. `[^...]`：匹配不再方括号内的任意字符
3. `.`:匹配除**换行符**和其他`Unicode`终止符之外的任意字符
4. `\w`：匹配数字或大小写字母
5. `\W`：匹配非数字和非大小写字母
6. `\s`：任何`Unicode`空白符
7. `\S`：任何非`Unicode`空白符的字符
8. `\d`：任何数字，等价于`[0-9]`
9. `\D`：任何非数字，等价于`[^0-9]`

## 限定符

**限定符**指定正则表达式组件必须要出现多少次才能够满足匹配，限定符遵循`贪婪匹配`原则，即尽可能多可能多地匹配。

1. `+`：1-n 次
2. `?`：0 或 1 次
3. `*`：0-n 次
4. `{n}`：n 次
5. `{n,}`：n 次及以上
6. `{n,m}`：n-m 次

## 定位符

**定位符**：描述匹配位置

1. `^`：匹配字符串开始的位置
2. `$`：匹配字符串结束的位置
3. `\b`：匹配字符串边界
4. `\B`：匹配字符串非边界

## 选择、分组和引用字符

1. `|`：选择，匹配该符号左边或者右边的子表达式
2. `(...)`：分组，将几项组合为一个单元
3. `\n`：和第`n`个分组第一次匹配的字符相匹配

## RegExp 属性

## 实例属性

有8种修饰符，后三种为`es6`中新增。

1. `global`：布尔值，是否设置`g`标识符
2. `ignoreCase`：布尔值，是否设置`i`标识符
3. `multiline`：布尔值，是否设置`m`标识
4. `lastIndex`：整数，标识开始搜索下一个匹配项的字符位置
5. `source`：字符串，按照字面量形式模式而不是正则表达式构造函数中的字符串模式返回
6. `sticky`:布尔值，是否设置`y`标志
7. `flags`：只读属性，返回所有应用于当前正则表达式标识符字符串
8. `unicode`：布尔值，是否设置`u`标识

## 构造函数属性(静态属性)

适用于作用于中的所有正则表达式，并且基于最近一次正则表达式的操作而变化。这些属性都可以通常两种方式来访问。（Opera 不支持短属性）

### 属性列举

| 长属性名     | 短属性名                                | 含义                                     |
| ------------ | --------------------------------------- | ---------------------------------------- |
| input        | \$\_                                    | 最近一次匹配的字符串                     |
| lastMatch    | \$&                                     | 最近一次匹配项                           |
| lastParen    | \$+                                     | 最近一次匹配的捕获组                     |
| leftContext  | \$`|input 字符串中 lastMatch 之前的文本 |
| multiline    | \$\*                                    | 布尔值，标识是否所有表达式都使用多行模式 |
| rightContext | \$'                                     | input 字符串中 lastMatch 之后的文本      |

## 实例方法

1. `exec()`：返回第一个匹配项信息的数组，若无匹配，返回`null`
2. `test()`：返回是否匹配的布尔值

## `String`中模式匹配相关方法

1. `search()`：返回第一个与之匹配的子串的起始位置，否则，返回`-1`
2. `replace()`:检索与之匹配的子串，并将其进行替换
3. `match()`:返回一个由匹配项组成的数组
4. `split()`：返回一个以分隔符拆分的数组
