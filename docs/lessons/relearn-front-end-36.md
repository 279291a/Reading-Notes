# 事件

## 概述

事件来源：键盘，触摸屏，鼠标。

### pointer 设备

输入最终会被抽象为屏幕上的一个点。

## 捕获和冒泡

### 存在的意义

能够“点击一个按钮”，实际上并非如此，我们只能够点击鼠标上的按钮或者触摸屏，是操作系统和浏览器把这个
信息对应到了一个逻辑上的按钮，再使得它的视图对点击事件有反应。这样的机制就是**捕获和冒泡**。

**捕获**是计算机处理事件的逻辑，是将坐标转换为具体的元素上事件的过程。
**冒泡**：是人类处理时间的逻辑，将事件发生的某点转换到具体的元素上。

### 顺序

先捕获，后冒泡。

### 使用建议

默认使用冒泡模式，当开发组件时，遇到需要父元素控制子元素的行为，可以使用捕获机制。

### `addEventListener`

有三个参数：

- 事件名称；
- 事件处理函数，可以是函数或者具有`handleEvent`的对象。
- 捕获还是冒泡，可以是布尔值或者对象 + `once`：只执行一次。 + `passive`：承诺此事件监听不会调用 `preventDefault`，这有助于性能。 + `useCapture`：是否捕获（否则冒泡）。

## 焦点系统

焦点系统认为整个 UI 系统中，**有且仅有一个“聚焦”的元素**，**所有的键盘事件的目标元素**都是这个聚焦元素。

### 操作焦点

```javascript
document.body.focus();

document.body.blur();
```

## 自定义事件

使用 `Event` 构造器来创造了一个新的事件，然后调用 `dispatchEvent` 来在特定元素上触发。

```javascript
var evt = new Event("look", { bubbles: true, cancelable: false });
document.dispatchEvent(evt);
```
